<!DOCTYPE html>
<html>
<head>
	  
    <title>Garage Management - Load Vehicles</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { padding: 20px; }
        table { margin-top: 15px; }
        tr:hover { background: #f0f8ff; }
    </style>
	
 
</head>
<body>
	<h2>Garage Management System</h2>

<button class="btn btn-primary" onclick="loadVehicles()">Load All Vehicles</button>



<!-- Vehicle Table -->
<table class="table table-bordered mt-3">
    <thead class="table-light">
        <tr>
            <th>License Plate</th>
            <th>Type</th>
            <th>Description</th>
            <th>Year</th>
            <th>Status</th>
            <th>Price</th>
            <th>Weight Limit</th>
        </tr>
    </thead>
    <tbody id="vehicleTableBody">
    </tbody>
</table>

<script>
    function loadVehicles() {
        fetch("/api/vehicle/list/status/new")
            .then(res => {
                if (!res.ok) {
                    throw new Error("Unable to load vehicles");
                }
                return res.json();
            })
            .then(data => {
                const tbody = document.getElementById("vehicleTableBody");
                tbody.innerHTML = "";

                data.forEach(v => {
                    const row = document.createElement("tr");
                    row.innerHTML = `
                        <td>${v.licensePlate}</td>
                        <td>${v.type}</td>
                        <td>${v.description}</td>
                        <td>${v.year}</td>
                        <td>${v.status}</td>
                        <td>${v.price}</td>
                        <td>${v.weightLimit}</td>
                    `;
                    tbody.appendChild(row);
                });
            })
            .catch(err => {
                console.error(err);
                alert("Failed to load vehicles!");
            });
    }
</script>

</body>
</html>